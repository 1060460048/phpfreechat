(function(e,t,n){function o(t,n){this.element=t,this.options=e.extend({},s,n),this._defaults=s,this._name=r,this.appendUser=function(t){var n=e(this.element).find(t.role=="admin"?"div.pfc-role-admin ul":"div.pfc-role-user ul"),r=e('              <li>                <div class="status"></div>                <div class="name"></div>                <div class="avatar"></div>              </li>');r.find(".name").text(t.name),t.name&&r.find("div.name").text(t.name),n.find("li").length==0&&r.addClass("first"),r.find("div.status").addClass(t.active?"st-active":"st-inactive"),n.append(r)},this.hasBacklink=function(){var t=e('a[href="http://www.phpfreechat.net"]').length;return t?!0:(e(this.element).html('<div class="pfc-backlink"><p>Please insert the phpfreechat backlink somewhere in your HTML in order to load the chat. The attended backlink is:</p><pre>'+e("<div/>").text('<a href="http://www.phpfreechat.net">phpFreeChat: simple Web chat</a>').html()+"</pre>"+"</div>"),!1)},this.init()}var r="phpfreechat",i=t.document,s={loaded:function(e){}};o.prototype.init=function(){if(!this.hasBacklink())return;e(this.element).html('      <div class="pfc-content">        <div class="pfc-tabs">          <ul>            <li class="channel active">              <div class="icon"></div>              <div class="name">Channel 1</div>              <div class="close"></div>            </li>            <li class="channel">              <div class="icon"></div>              <div class="name">Channel 2</div>              <div class="close"></div>            </li>            <li class="pm">              <div class="icon"></div>              <div class="name">admin</div>              <div class="close"></div>            </li>            <li class="new-tab">              <div class="icon"></div>            </li>          </ul>        </div>        <div class="pfc-topic">          <p><span class="pfc-topic-label">Topic:</span> <span class="pfc-topic-value">no topic for this channel</span></p>        </div>        <div class="pfc-messages">          <div class="messages-group" data-stamp="1336815502" data-from="kerphi">            <div class="avatar"><img src="http://www.gravatar.com/avatar/ae5979732c49cae7b741294a1d3a8682?d=wavatar&s=30" alt="" /></div>            <div class="date">11:38:21</div>            <div class="name">kerphi</div>            <div class="message">123</div>            <div class="message">456</div>          </div>          <div class="messages-group" data-stamp="1336815503" data-from="admin">            <div class="avatar"><img src="http://www.gravatar.com/avatar/00000000000000000000000000000001?d=wavatar&s=30" alt="" /></div>            <div class="date">11:38:22</div>            <div class="name">admin</div>            <div class="message">Hello</div>            <div class="message">World</div>            <div class="message">!</div>          </div>        </div>        <div class="pfc-users">          <div class="pfc-role-admin">            <p class="role-title">Administrators</p>            <ul>              <li class="first">                <div class="status st-active"></div>                <div class="name">admin</div>                <div class="avatar"><img src="http://www.gravatar.com/avatar/00000000000000000000000000000001?d=wavatar&s=20" alt="" /></div>              </li>            </ul>          </div>          <div class="pfc-role-user">            <p class="role-title">Users</p>            <ul>              <li class="first">                <div class="status st-active"></div>                <div class="name myself">kerphi</div>                <div class="avatar"><img src="http://www.gravatar.com/avatar/ae5979732c49cae7b741294a1d3a8682?d=wavatar&s=20" alt="" /></div>              </li>              <li>                <div class="status st-inactive"></div>                <div class="name">St√©phane Gully</div>                <div class="avatar"><img src="http://www.gravatar.com/avatar/00000000000000000000000000000002?d=wavatar&s=20" alt="" /></div>              </li>            </ul>          </div>        </div>        <div class="pfc-footer">          <p class="logo"><a href="http://www.phpfreechat.net">Powered by phpFreeChat</a></p>          <p class="ping">150ms</p>          <ul>            <li><div class="smiley-btn" title="Not implemented"></div></li>            <li><div class="sound-btn" title="Not implemented"></div></li>          </ul>        </div>        <div class="pfc-compose">          <textarea data-to="channel1"></textarea>        </div>      </div>'),this.options.loaded&&this.options.loaded(this)},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new o(this,t))})}})(jQuery,window);